---
sidebar_position: 1
---

# `useState`

- `useState`는 컴포넌트에 상태 변수(state variable)를 추가할 수 있는 React Hook이다.

  - 상태 변수란 (state variable)?
    렌더링 사이에 데이터를 유지하기 위한 변수를 상태 변수라고 부른다.

```jsx
const [state, setState] = useState(initialState);
```

- `useState`는 두 개의 값이 있는 배열을 반환하며, 디스트럭처링을 사용해, 두가지 값을 받아올 수 있다.

  - `state`는 상태를 기억하고 있는 변수이다.
  - `setState`는 상태를 변경할 때 사용할 값을 받고, 리렌더링을 트리거 할 수 있는 함수이다.
  - `initialState`는 상태 변수의 초기 값이며, 어떠한 값도 받을 수 있다.
    - 함수를 값으로 전달할 경우, 함수는 **초기화 함수**로 취급되며,  
      React는 특별한 동작을 하며, 인수는 초기 렌더링 이후 무시된다.
      - 초기화 함수는 순수해야하며, 인수를 받지 않고 값을 반환해야한다.
        React는 컴포넌트를 초기화할 때 초기화 함수를 호출하고 그 반환 값을 초기 상태로 저장한다.

- `useState`는 최상위 레벨 또는 자체 훅에서만 호출할 수 있다. (루프나, 조건문 내부에서 호출할 수 있다.)

:::warning 주의사항

- 엄격모드는 개발 모드에서 React는 불순물을 찾기 위해 초기화 함수를 두번 호출하며  
  호출 중 하나의 결과는 무시된다.

:::

## `setState`

`setState`의 값은 다음 상태가 될 값이며, 모든 유형의 값을 받을 수 있지만,  
함수를 받게 될 경우 특별한 동작을 하게 된다.

전달 받은 함수는 업데이트 함수로 취급 되며, 보류 중인 상태를 유일한 인수로 취하고,  
다음 상태를 반환해야한다.

React는 업데이터 함수를 대기열에 넣고 컴포넌트를 다시 렌더링한다.

그 다음 렌더링 중에 React는 대기열에 있는 모든 업데이터 함수에 이전 상태를 적용해 다음 상태를 다시 계산한다.

:::tip

- React는 최적화를 위해, Object.is 비교를 통해,  
  새 상태가 현재 상태와 동일한 경우, React는 컴포넌트와 자식 컴포넌트를 다시 렌더링하지 않는다.

:::
